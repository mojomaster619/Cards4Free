<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Card Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav>
        <a href="#" onclick="showTab('news-feed')">News Feed</a>
        <a href="#" onclick="showTab('upcoming-cards')">Upcoming Cards</a>
        <a href="#" onclick="showTab('card-gallery')">Card Gallery</a>
        <a href="#" onclick="showTab('how-to-play')">How to Play</a>
    </nav>

    <section>
        <div id="news-feed" class="tab-content active">
            <h1>Here are the upcoming Lives!</h1>
            <div id="news-container"></div>
        </div>
        <div id="upcoming-cards" class="tab-content">
            <p>Details about upcoming cards.</p>
        </div>
        <div id="card-gallery" class="tab-content">
            <p>Below are all the cards you can win.</p>
            <div id="gallery-images"></div>
        </div>
        <div id="how-to-play" class="tab-content">
            <h1>How to Play</h1>
            <p>Instructions on how to play the Pokémon card game.</p>
        </div>
    </section>

    <script>
        function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active')); // Hide all tabs
            document.getElementById(tabId).classList.add('active'); // Show selected tab
        
            // Load images dynamically when the Card Gallery tab is shown
            if (tabId === 'card-gallery') {
                loadImages();
            }
        }
        
        async function loadNews() {
            try {
                const response = await fetch('./news.json');
                if (!response.ok) {
                    throw new Error('Failed to load news JSON');
                }
                const newsData = await response.json();
                const newsContainer = document.getElementById('news-container');
                newsContainer.innerHTML = ''; // Clear existing content
        
                newsData.forEach(newsItem => {
                    const newsBlock = document.createElement('div');
                    newsBlock.className = 'news-block';
                    newsBlock.innerHTML = `<strong>${newsItem.title}</strong><p>${newsItem.content}</p>`;
                    newsContainer.appendChild(newsBlock);
                });
            } catch (error) {
                console.error('Error loading news:', error);
                const newsContainer = document.getElementById('news-container');
                newsContainer.innerHTML = '<p>Failed to load news. Please try again later.</p>';
            }
        }
        
        async function loadImages() {
            try {
                const response = await fetch('./images/images.json');
                if (!response.ok) {
                    throw new Error('Failed to load image JSON');
                }
                const imageData = await response.json();
                const galleryImages = document.getElementById('gallery-images');
                galleryImages.innerHTML = ''; // Clear existing content
        
                imageData.images.forEach(imageSrc => {
                    const img = document.createElement('img');
                    img.src = `./images/${imageSrc}`;
                    img.alt = 'Pokémon card image'; // Generic alt text
                    img.className = 'gallery-image'; // Add class for styling
                    galleryImages.appendChild(img);
                });
            } catch (error) {
                console.error('Error loading images:', error);
                const galleryImages = document.getElementById('gallery-images');
                galleryImages.innerHTML = '<p>Failed to load images. Please try again later.</p>';
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            loadNews(); // Load news on page load
            // Images will load only when Card Gallery is opened
        });
    </script>

</body>
</html>
