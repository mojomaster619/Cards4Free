<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Win FREE Pokémon Cards</title>
    <!-- Favicon -->
    <link rel="icon" href="favicon.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <nav>
        <a href="#" onclick="showTab('news-feed')"><span>News Feed</span></a>
        <a href="#" onclick="showTab('card-gallery')"><span>Card Gallery</span></a>
        <a href="#" onclick="showTab('upcoming-cards')"><span>Upcoming Cards</span></a>
        <a href="#" onclick="showTab('how-to-play')"><span>How to Play</span></a>
    </nav>

    <section>
        <!-- News Feed Tab -->
        <div id="news-feed" class="tab-content active">
            <h1>Live Event Schedule:</h1>
            <p>Here is a list of events that are planned to happen: </p>
            <div id="news-container"></div>
        </div>

        <!-- Card Gallery Tab -->
        <div id="card-gallery" class="tab-content">
            <p>Below are pictures of cards you can win by joining the Live. This event is 100% FREE and participants are chosen at random.
               People who donate (min. $5) via gifts can automatically be a participant in the trivia game. If there are multiple people gifting,
               you will be entered in a queue. Again, you can play the trivia game for free if you interact with the host and are chosen.
            </p>
            <div id="gallery-images"></div>
        </div>
        
        <!-- Upcoming Cards Tab -->
        <div id="upcoming-cards" class="tab-content">
            <p>The card list should be continuously expanding! I will try and include new cards in the prize pool via Youtube/Tiktok gifts.
               Cards that are highly desired for the prize pool will be displayed here. 
            </p>
            <div id="upcoming-images"></div>
        </div>

        <!-- How to Play Tab -->
        <div id="how-to-play" class="tab-content">
            <p><strong>Welcome to my website! Here is how you can play the trivia game!</strong></p>
        </div>

    </section>

    <!-- Social Media Icons -->
    <div class="social-media">
        <a href="https://www.tiktok.com/@freecards.triviagame" target="_blank">
            <img src="assets/tiktok.png" alt="TikTok" class="social-icon">
        </a>
        <a href="https://www.youtube.com/@Cards4Free" target="_blank">
            <img src="assets/youtube.png" alt="YouTube" class="social-icon">
        </a>
    </div>

    <script>
        // Load News Feed content
        async function loadNews() {
            try {
                const response = await fetch('./news.json');
                if (!response.ok) {
                    throw new Error('Failed to load news JSON');
                }
                const newsData = await response.json();
                const newsContainer = document.getElementById('news-container');
                newsContainer.innerHTML = ''; // Clear existing content

                newsData.forEach(newsItem => {
                    const newsBlock = document.createElement('div');
                    newsBlock.className = 'news-block';
                    newsBlock.innerHTML = `<strong>${newsItem.title}</strong><p>${newsItem.content}</p>`;
                    newsContainer.appendChild(newsBlock);
                });
            } catch (error) {
                console.error('Error loading news:', error);
                const newsContainer = document.getElementById('news-container');
                newsContainer.innerHTML = '<p>Failed to load news. Please try again later.</p>';
            }
        }

        // Load images dynamically for the Card Gallery tab
        async function loadImages() {
            try {
                const response = await fetch('./images/images.json');
                if (!response.ok) {
                    throw new Error('Failed to load image JSON');
                }
                const imageData = await response.json();
                const galleryImages = document.getElementById('gallery-images');
                galleryImages.innerHTML = ''; // Clear existing content

                imageData.images.forEach(imageSrc => {
                    const div = document.createElement('div');
                    div.className = 'gallery-tile';
                    div.innerHTML = `<img src="./images/${imageSrc}" alt="Pokémon card image">`;
                    galleryImages.appendChild(div);
                });
            } catch (error) {
                console.error('Error loading images:', error);
                const galleryImages = document.getElementById('gallery-images');
                galleryImages.innerHTML = '<p>Failed to load images. Please try again later.</p>';
            }
        }

        // Load images dynamically for the Upcoming Cards tab
        async function loadUpcomingImages() {
            try {
                const response = await fetch('./assets/upcoming_images/upcoming-images.json');
                if (!response.ok) {
                    throw new Error('Failed to load upcoming images JSON');
                }
                const imageData = await response.json();
                const upcomingImages = document.getElementById('upcoming-images');
                upcomingImages.innerHTML = ''; // Clear existing content

                imageData.images.forEach(imageSrc => {
                    const div = document.createElement('div');
                    div.className = 'upcoming-tile';
                    div.innerHTML = `<img src="./assets/upcoming_images/${imageSrc}" alt="Upcoming card image">`;
                    upcomingImages.appendChild(div);
                });
            } catch (error) {
                console.error('Error loading upcoming images:', error);
                const upcomingImages = document.getElementById('upcoming-images');
                upcomingImages.innerHTML = '<p>Failed to load upcoming images. Please try again later.</p>';
            }
        }

        // Handle tab switching and load data as needed
        function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');

            if (tabId === 'card-gallery') {
                loadImages();
            } else if (tabId === 'upcoming-cards') {
                loadUpcomingImages();
            }
        }

        // Ensure everything loads after DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            loadNews(); // Load news when the page loads
        });
    </script>

</body>
</html>
